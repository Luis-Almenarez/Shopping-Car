"use strict";const t=document.getElementById("producto"),e=document.querySelector(".producto__imagen"),r=document.querySelector(".producto__thumbs"),c=document.querySelector("#incrementar-cantidad"),a=document.querySelector("#disminuir-cantidad");let i=document.querySelector("#cantidad");const o=t.querySelector("#propiedad-color");r.addEventListener("click",(t=>{if("IMG"===t.target.tagName){const r=t.target.src,c=r.lastIndexOf("/"),a=r.substring(c+1);e.src=`./img/products/${a}`}})),o.addEventListener("click",(t=>{if("INPUT"===t.target.tagName){const r=t.target.value;e.src=`./img/products/${r}.jpg`;document.querySelectorAll(".producto__thumb-img").forEach(((t,e)=>{t.src=`./img/thumbs/${r}/${r}${e+1}.jpg`}))}})),c.addEventListener("click",(t=>{i.value=parseInt(i.value)+1})),a.addEventListener("click",(t=>{i.value=parseInt(i.value)-1,parseInt(i.value)<=1&&(i.value=1)}));var n={products:[{id:"1",name:"Sony Wireless WH-H910N",description:"Exceptional sound quality with a specially designed 30mm diaphragm unit",price:249.99,colors:["Black","Silver","Blue"],ShippingType:["Standar","Express","Store","Free"]}]};const s=document.querySelectorAll('[data-accion="abrir-carrito"]'),l=document.querySelectorAll('[data-accion="cerrar-carrito"]'),u=document.getElementById("carrito"),d=document.getElementById("agregar-al-carrito"),p=document.getElementById("producto"),m=document.getElementById("notificacion"),g=new Intl.NumberFormat("EN-EEUU",{style:"currency",currency:"USD"});let v=[];const y=()=>{u.classList.add("carrito--active");u.querySelectorAll(".carrito__producto").forEach((t=>t.remove()));let t=0;v.length<1?u.classList.add("carrito--vacio"):(u.classList.remove("carrito--vacio"),v.forEach((e=>{n.products.forEach((r=>{r.id===e.id&&(e.price=r.price,t+=r.price*e.quantity)}));let r=p.querySelectorAll(".producto__thumb-img")[0].src;"silver"===e.color?r="./img/thumbs/silver/silver.jpg":"blue"===e.color?r="./img/thumbs/blue/blue.jpg":"black"===e.color&&(r="./img/thumbs/black/black.jpg");let c=`\n      <div class="carrito__producto-info">\n        <img src="${r}" alt="" class="carrito__thumb" />\n        <div>\n          <p class="carrito__producto-nombre">\n            <span class="carrito__producto-cantidad">${e.quantity} x </span>${e.name}\n          </p>\n          <p class="carrito__producto-propiedades">\n            Shipping Type:<span>${e.ShippingType}</span> Color:<span>${e.color}</span>\n          </p>\n        </div>\n      </div>\n      <div class="carrito__producto-contenedor-precio">\n        <button class="carrito__btn-eliminar-item" data-accion="eliminar-item-carrito">\n          <i class="bi bi-x"></i>\n        </button>\n        <p class="carrito__producto-precio">$${e.price*e.quantity}</p>\n      </div>\n    `,a=document.createElement("div");a.classList.add("carrito__producto"),a.innerHTML=c,u.querySelector(".carrito__body").appendChild(a)}))),u.querySelector(".carrito__total").innerText=g.format(t)},b=localStorage.getItem("cartProduct");b&&(v=JSON.parse(b),v.length>=1&&y()),s.forEach((t=>{t.addEventListener("click",(t=>{y()}))})),l.forEach((t=>{t.addEventListener("click",(t=>{u.classList.remove("carrito--active")}))})),d.addEventListener("click",(t=>{let e=p.dataset.productoId,r=p.querySelector(".producto__nombre").innerText,c=parseInt(p.querySelector("#cantidad").value),a=p.querySelector("#propiedad-color input:checked").value,i=p.querySelector("#propiedad-envio input:checked").value;if(v.length>0){let t=!1;v.forEach((o=>{o.id===e&&o.name===r&&o.color===a&&o.ShippingType===i&&(o.quantity+=c,t=!0)})),t||v.push({id:e,name:r,quantity:c,color:a,ShippingType:i})}else v.push({id:e,name:r,quantity:c,color:a,ShippingType:i});let o=p.querySelectorAll(".producto__thumb-img")[0].src;"silver"===a?o="./img/thumbs/silver/silver.jpg":"blue"===a&&(o="./img/thumbs/blue/blue.jpg"),m.querySelector("img").src=o,m.classList.add("notificacion--active"),setTimeout((()=>{m.classList.remove("notificacion--active")}),3e3),localStorage.setItem("cartProduct",JSON.stringify(v))})),u.addEventListener("click",(t=>{if("eliminar-item-carrito"===t.target.closest("button")?.dataset.accion){let e=t.target.closest(".carrito__producto"),r=[...u.querySelectorAll(".carrito__producto")].indexOf(e);v=v.filter(((t,e)=>{if(e!==r)return t})),localStorage.setItem("cartProduct",JSON.stringify(v)),y()}})),u.querySelector("#carrito__btn-comprar").addEventListener("click",(()=>{Swal.fire({title:"Do you want to purchase what's in the cart?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"YES",denyButtonText:"Continue shopping",customClass:{popup:"large-swal"}}).then((t=>{t.isConfirmed?Swal.fire("Successful purchase completed.","","success"):t.isDenied&&Swal.fire("Changes are not saved","","info")}))}));new class{constructor(t){this.Tabs=document.getElementById(t),this.nav=this.Tabs.querySelector(".tabs"),this.nav.addEventListener("click",(t=>{if([...t.target.classList].includes("tabs__button")){const e=t.target.dataset.tab;this.Tabs.querySelector(".tab--active")&&this.Tabs.querySelector(".tab--active").classList.remove("tab--active"),this.Tabs.querySelector(`#${e}`).classList.add("tab--active"),this.Tabs.querySelector(".tabs__button--active")&&this.Tabs.querySelector(".tabs__button--active").classList.remove("tabs__button--active"),t.target.classList.add("tabs__button--active")}}))}}("mas-informacion");
//# sourceMappingURL=bundle.js.map

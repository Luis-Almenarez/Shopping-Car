"use strict";const e=document.getElementById("producto"),t=document.querySelector(".producto__imagen"),r=document.querySelector(".producto__thumbs"),c=document.querySelector("#incrementar-cantidad"),o=document.querySelector("#disminuir-cantidad");let a=document.querySelector("#cantidad");const i=e.querySelector("#propiedad-color");r.addEventListener("click",(e=>{if("IMG"===e.target.tagName){const r=e.target.src,c=r.lastIndexOf("/"),o=r.substring(c+1);t.src=`./img/products/${o}`}})),i.addEventListener("click",(e=>{if("INPUT"===e.target.tagName){const r=e.target.value;t.src=`./img/products/${r}.jpg`;document.querySelectorAll(".producto__thumb-img").forEach(((e,t)=>{e.src=`./img/thumbs/${r}/${r}${t+1}.jpg`}))}})),c.addEventListener("click",(e=>{a.value=parseInt(a.value)+1})),o.addEventListener("click",(e=>{a.value=parseInt(a.value)-1,parseInt(a.value)<=1&&(a.value=1)}));var n={products:[{id:"1",name:"Sony Wireless WH-H910N",description:"Exceptional sound quality with a specially designed 30mm diaphragm unit",price:249.99,colors:["Black","Silver","Blue"],ShippingType:["Standar","Express","Store","Free"]}]};const l=document.querySelectorAll('[data-accion="abrir-carrito"]'),d=document.querySelectorAll('[data-accion="cerrar-carrito"]'),s=document.getElementById("carrito"),u=document.getElementById("agregar-al-carrito"),p=document.getElementById("producto");let m=[];const g=()=>{s.classList.add("carrito--active");s.querySelectorAll(".carrito__producto").forEach((e=>e.remove())),m.length<1?s.classList.add("carrito--vacio"):(s.classList.remove("carrito--vacio"),m.forEach((e=>{n.products.forEach((t=>{t.id===e.id&&(e.price=t.price)}));let t=p.querySelectorAll(".producto__thumb-img")[0].src;"silver"===e.color?t="./img/thumbs/silver/silver.jpg":"blue"===e.color?t="./img/thumbs/blue/blue.jpg":"black"===e.color&&(t="./img/thumbs/black/black.jpg");let r=`\n      <div class="carrito__producto-info">\n        <img src="${t}" alt="" class="carrito__thumb" />\n        <div>\n          <p class="carrito__producto-nombre">\n            <span class="carrito__producto-cantidad">${e.quantity} x </span>${e.name}\n          </p>\n          <p class="carrito__producto-propiedades">\n            Shipping Type:<span>${e.ShippingType}</span> Color:<span>${e.color}</span>\n          </p>\n        </div>\n      </div>\n      <div class="carrito__producto-contenedor-precio">\n        <button class="carrito__btn-eliminar-item" data-accion="eliminar-item-carrito">\n          <i class="bi bi-x"></i>\n        </button>\n        <p class="carrito__producto-precio">$${e.price*e.quantity}</p>\n      </div>\n    `,c=document.createElement("div");c.classList.add("carrito__producto"),c.innerHTML=r,s.querySelector(".carrito__body").appendChild(c)})))},v=localStorage.getItem("cartProduct");v&&(m=JSON.parse(v),m.length>=1&&g()),l.forEach((e=>{e.addEventListener("click",(e=>{g()}))})),d.forEach((e=>{e.addEventListener("click",(e=>{s.classList.remove("carrito--active")}))})),u.addEventListener("click",(e=>{let t=p.dataset.productoId,r=p.querySelector(".producto__nombre").innerText,c=parseInt(p.querySelector("#cantidad").value),o=p.querySelector("#propiedad-color input:checked").value,a=p.querySelector("#propiedad-envio input:checked").value;if(m.length>0){let e=!1;m.forEach((i=>{i.id===t&&i.name===r&&i.color===o&&i.ShippingType===a&&(i.quantity+=c,e=!0)})),e||m.push({id:t,name:r,quantity:c,color:o,ShippingType:a})}else m.push({id:t,name:r,quantity:c,color:o,ShippingType:a});localStorage.setItem("cartProduct",JSON.stringify(m))})),s.addEventListener("click",(e=>{if("eliminar-item-carrito"===e.target.closest("button")?.dataset.accion){let t=e.target.closest(".carrito__producto"),r=[...s.querySelectorAll(".carrito__producto")].indexOf(t);m=m.filter(((e,t)=>{if(t!==r)return e})),localStorage.setItem("cartProduct",JSON.stringify(m)),g()}}));
//# sourceMappingURL=bundle.js.map
